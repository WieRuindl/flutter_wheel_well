services:
  - type: web
    name: flutter-web-app
    buildCommand: |
      # Download and install Flutter
      wget https://storage.googleapis.com/flutter_infra_release/releases/stable/linux/flutter_linux_3.0.5-stable.tar.xz
      tar xf flutter_linux_3.0.5-stable.tar.xz
      export PATH="$PATH:$(pwd)/flutter/bin"
      
      # Run Flutter doctor to ensure dependencies are ready
      flutter doctor

      # Build the web app
      flutter build web
    staticPublishPath: build/web